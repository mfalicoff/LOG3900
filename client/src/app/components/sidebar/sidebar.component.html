<div class="container">
    <h1>CONTRÃ”LES</h1>
    <div *ngIf="!infoClientService.isSpectator" class="buttonContainer">
        <button 
            mat-raised-button 
            matTooltip="Abandonner"
            *ngIf="!infoClientService.game.gameFinished && infoClientService.game.gameStarted"
            (click)="onClickGiveUpButton()" 
            class="optionButton"
        >
        Abandonner
        </button>
    </div>
    
    <div class="buttonContainer">
        <button
            mat-raised-button
            *ngIf="shouldLeaveGameBe()"
            id="cancelGame"
            class="optionButton"
            (click)="leaveGame()"
            routerLink="/game-mode-options"
        >
            Quitter Partie
        </button>
    </div>

    <div *ngIf="!infoClientService.isSpectator" class="buttonContainer">
        <button 
            mat-raised-button 
            *ngIf="infoClientService.creatorShouldBeAbleToStartGame" 
            id="startGame" 
            class="optionButton" 
            (click)="startGame()"
        >
            START GAME
        </button>
    </div>
    <div class="buttonContainer">
        <button 
            mat-raised-button 
            *ngIf="shouldSpecBeAbleToBePlayer()" 
            id="specBecomePlayer" 
            class="optionButton" 
            (click)="spectWantsToBePlayer()"
        >
            Prendre la place d'un joueur virtuel
        </button>
    </div>
    <div class="buttonContainer">
        <button 
            mat-raised-button 
            *ngIf="
                !infoClientService.isSpectator 
                && infoClientService.game.gameStarted 
                && infoClientService.isTurnOurs
                && infoClientService.game.gameMode === 'power-cards'
            " 
            id="playerBecomeSpec" 
            class="optionButton" 
            (click)="showPowerList()"
        >
            Liste pouvoirs
        </button>
    </div>

    <!-- The Modal to show the powers available to the player -->
    <div class="modal" [style.display]="displayPowerModal">
        <div class="modal-content" >
            <span id="closeModalX" (click)="hidePowerModal()">X</span>
            <span *ngIf="infoClientService.player.powerCards.length === 0">
                Vous n'avez pas de pouvoir. Pour en obtenir un, vous devez placer {{3 - infoClientService.player.nbValidWordPlaced}} mot(s) valide(s) sur le plateau.
            </span>
            <table *ngIf="infoClientService.player.powerCards.length > 0" id="tablePowers">
                <thead>
                  <tr>
                    <th>Pouvoir Description</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let powerCard of infoClientService.player.powerCards">
                    <td>{{powerCard.name}}</td>
                    <td>
                        <input 
                            type="button" 
                            id="buttonShowModal" 
                            value="Utiliser" 
                            (click)="onPowerCardClick(powerCard.name)"
                        >
                    </td>
                  </tr>
                </tbody>
              </table>
        </div>
    </div>
</div>
